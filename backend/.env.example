# ============================================================
# BACKEND - TEMPLATE DE CONFIGURAÇÃO
# ============================================================
# Copie este arquivo para .env e preencha com suas chaves reais
# cp .env.example .env
# ============================================================

# Configuração do servidor
PORT=3001
NODE_ENV=development

# ============================================================
# SUPABASE (Banco de Dados)
# ============================================================
# Obter em: https://supabase.com/dashboard/project/SEU_PROJETO/settings/api
SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_ANON_KEY=sua_anon_key_aqui

# Service Role Key (ADMIN - nunca expor no frontend!)
SUPABASE_SERVICE_ROLE_KEY=sua_service_role_key_aqui

# Cache do scraper (opcional)
SCRAPER_CACHE_TTL_MS=86400000
SCRAPER_MAX_CONCURRENT=2
SCRAPER_CACHE_TABLE=scraping_cache

# ============================================================
# OPENAI / IA
# ============================================================
# Obter em: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-sua_chave_aqui
OPENAI_MODEL=gpt-4o

# ============================================================
# ANTHROPIC / CLAUDE
# ============================================================
# Obter em: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-sua_chave_aqui

# ============================================================
# STRIPE (Pagamentos)
# ============================================================
# Obter em: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_sua_chave_aqui
STRIPE_WEBHOOK_SECRET=whsec_sua_chave_aqui

# ============================================================
# GOOGLE APIs
# ============================================================
# Obter em: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=seu_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-sua_secret_aqui
GOOGLE_API_KEY=AIzaSy-sua_api_key_aqui

# Credenciais do Google Drive (Service Account)
# NUNCA colocar no frontend!
GOOGLE_DRIVE_CLIENT_EMAIL=service-account@project.iam.gserviceaccount.com
GOOGLE_DRIVE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
GOOGLE_DRIVE_FOLDER_ID=id_da_pasta_raiz

# Pasta raiz onde serão criadas as pastas dos clientes
# Se não definido, as pastas serão criadas na raiz do Drive
GOOGLE_DRIVE_CLIENTES_FOLDER_ID=id_da_pasta_clientes

# Redirect URI para OAuth2 (Calendar e Drive)
GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback

# ============================================================
# GOOGLE SERVICE ACCOUNTS
# ============================================================
# O sistema suporta múltiplas Service Accounts para diferentes serviços.
# Se uma chave específica não for definida, usa a chave padrão.
#
# Prioridade: Chave específica > Chave padrão (GOOGLE_SERVICE_ACCOUNT_KEY)
# ============================================================

# ----- CHAVE PADRÃO (fallback para todos os serviços) -----
# Service Account Key (JSON inline ou path para arquivo)
# Opção 1: JSON inline (uma linha)
# GOOGLE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"..."}
# Opção 2: Path para arquivo JSON
GOOGLE_SERVICE_ACCOUNT_KEY_PATH=./service-account.json

# ----- GOOGLE DRIVE -----
# Service Account específica para Drive (opcional)
# Se não definida, usa GOOGLE_SERVICE_ACCOUNT_KEY
# GOOGLE_DRIVE_SERVICE_ACCOUNT_KEY={"type":"service_account",...}
# GOOGLE_DRIVE_SERVICE_ACCOUNT_KEY_PATH=./drive-service-account.json

# ----- GOOGLE CALENDAR -----
# Service Account específica para Calendar (opcional)
# Se não definida, usa GOOGLE_SERVICE_ACCOUNT_KEY
# GOOGLE_CALENDAR_SERVICE_ACCOUNT_KEY={"type":"service_account",...}
# GOOGLE_CALENDAR_SERVICE_ACCOUNT_KEY_PATH=./calendar-service-account.json

# ----- GOOGLE KEEP -----
# Service Account específica para Keep (opcional)
# Se não definida, usa GOOGLE_SERVICE_ACCOUNT_KEY
# GOOGLE_KEEP_SERVICE_ACCOUNT_KEY={"type":"service_account",...}
# GOOGLE_KEEP_SERVICE_ACCOUNT_KEY_PATH=./keep-service-account.json

# ============================================================
# CONFIGURAÇÕES EXTRAS DO GOOGLE
# ============================================================
# Email do usuário Workspace para impersonar (Domain-wide Delegation)
GOOGLE_KEEP_USER_EMAIL=usuario@seudominio.com
GOOGLE_CALENDAR_USER_EMAIL=usuario@seudominio.com

# ============================================================
# SEGURANÇA
# ============================================================
# Chave interna para endpoints protegidos
# Gerar com: openssl rand -hex 32
INTERNAL_API_KEY=sua_internal_api_key_segura_aqui

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=30
